<?xml version="1.0" encoding="UTF-8"?>
<tests>
   <skip>db_memory_profiler file_memory_profiler</skip>
   <defaults>
      <settings>
         mail/SMTP;port=17025
         mail/SMTP/authentication/IPOverride:127.0.0.1
         mail/SMTP/authentication/POPBeforeSMTP;enable=true
         mail/SMTP/extensions;HELO=false
         mail/POP3;port=17110
      </settings>
      <realms>
         users
      </realms>
   </defaults>
   <test name="1">
      <messagesPerUser>2</messagesPerUser>
      <runsPerUser>1</runsPerUser>
      <javaMail>
         SASL=DIGEST-MD5
         REALM=none
      </javaMail>
      <server>localhost</server>
      <settings>
         backend/File/domains:localhost
         backend/File/defaultMailbox:andreas@localhost
         mail/authMechs/DIGEST-MD5;enable=true
      </settings>
   </test>
   <test name="2">
      <messagesPerUser>1</messagesPerUser>
      <runsPerUser>1</runsPerUser>
      <javaMail>
         SASL=DIGEST-MD5
         REALM=default
         STARTTLS=true
         PROTOCOL=TLSv1
      </javaMail>
      <server>localhost</server>
      <settings>
         general;throttlingStep=1
         backend/File/domains:localhost
         backend/File/defaultMailbox:andreas@localhost
         mail/SMTP/secureChannel;enable=true
         mail/SMTP/authentication;allowClearText=encryptedOnly
         mail/POP3/secureChannel;enable=true
         mail/POP3/authentication;allowClearText=encryptedOnly
         mail/authMechs/DIGEST-MD5;enable=true
      </settings>
   </test>
   <test name="3">
      <messagesPerUser>1</messagesPerUser>
      <runsPerUser>1</runsPerUser>
      <javaMail>
         SASL=PLAIN
         STARTTLS=true
         PROTOCOL=TLSv1
      </javaMail>
      <server>localhost</server>
      <settings>
         backend/File/domains:localhost
         backend/File/defaultMailbox:andreas@localhost
         mail/SMTP/secureChannel;enable=true
         mail/SMTP/extensions;pipelining=true
         mail/POP3/secureChannel;enable=true
      </settings>
   </test>
   <test name="4">
      <messagesPerUser>6</messagesPerUser>
      <runsPerUser>1</runsPerUser>
      <multithreaded/>
      <javaMail>
         SASL=PLAIN
      </javaMail>
      <server>localhost</server>
      <settings>
         general;throttlingStep=1
         backend/File/domains:localhost
         backend/File/defaultMailbox:andreas@localhost
      </settings>
   </test>
   <test name="5">
      <messagesPerUser>6</messagesPerUser>
      <runsPerUser>1</runsPerUser>
      <multithreaded/>
      <javaMail>
         SASL=PLAIN
      </javaMail>
      <server>localhost</server>
      <settings>
         general;throttlingStep=7
         backend/File/domains:localhost
         backend/File/defaultMailbox:andreas@localhost
      </settings>
   </test>
   <test name="6">
      <messagesPerUser>6</messagesPerUser>
      <runsPerUser>1</runsPerUser>
      <multithreaded/>
      <javaMail>
         SASL=DIGEST-MD5
         REALM=default
      </javaMail>
      <server>localhost</server>
      <settings>
         general;throttlingStep=1
         backend/File/domains:localhost
         backend/File/defaultMailbox:andreas@localhost
         mail/authMechs/DIGEST-MD5;enable=true
      </settings>
   </test>
   <test name="7">
      <messagesPerUser>6</messagesPerUser>
      <runsPerUser>1</runsPerUser>
      <multithreaded/>
      <javaMail>
         SASL=PLAIN
         STARTTLS=true
         PROTOCOL=TLSv1
      </javaMail>
      <server>localhost</server>
      <settings>
         general;throttlingStep=1
         backend/File/domains:localhost
         backend/File/defaultMailbox:andreas@localhost
         mail/SMTP/secureChannel;enable=true
         mail/POP3/secureChannel;enable=true
      </settings>
   </test>
   <test name="8">
      <messagesPerUser>8</messagesPerUser>
      <runsPerUser>1</runsPerUser>
      <javaMail>
         SASL=PLAIN
      </javaMail>
      <server>localhost</server>
      <settings>
         general;throttlingStep=1
         backend/Db;host=localhost;port=17527
         mail/SMTP/secureChannel;enable=true
         mail/POP3/secureChannel;enable=true
         cbc;enable=true;port=41002
      </settings>
   </test>
   <test name="9">
      <messagesPerUser>6</messagesPerUser>
      <runsPerUser>1</runsPerUser>
      <multithreaded/>
      <javaMail>
         SASL=PLAIN
         STARTTLS=true
         PROTOCOL=TLSv1
      </javaMail>
      <server>localhost</server>
      <settings>
         general;throttlingStep=1
         backend/Db;host=localhost;port=17527
         mail/SMTP/secureChannel;enable=true
         mail/POP3/secureChannel;enable=true
         cbc;enable=true;port=41002
      </settings>
   </test>
   <test name="10">
      <messagesPerUser>6</messagesPerUser>
      <runsPerUser>1</runsPerUser>
      <multithreaded/>
      <javaMail>
         SASL=PLAIN
         STARTTLS=true
         PROTOCOL=TLSv1
      </javaMail>
      <server>localhost</server>
      <settings>
         general;throttlingStep=1
         backend/Db;host=localhost;port=17527
         mail/SMTP/secureChannel;enable=true
         mail/SMTP/authentication;allowClearText=encryptedOnly
         mail/POP3/secureChannel;enable=true
         mail/POP3/authentication;allowClearText=encryptedOnly
         mail/threads;number=8
         cbc;enable=true;port=41002
      </settings>
   </test>
   <test name="11">
      <messagesPerUser>6</messagesPerUser>
      <runsPerUser>1</runsPerUser>
      <multithreaded/>
      <profile>cbcOnly</profile>
      <server>localhost</server>
      <settings>
         backend/Db;host=localhost;port=17527
         mail/threads;number=4
         cbc;enable=true;port=41002
      </settings>
   </test>
   <test name="file_memory_profiler">
      <messagesPerUser>24</messagesPerUser>
      <runsPerUser>4</runsPerUser>
      <multithreaded/>
      <javaMail>
         SASL=PLAIN
         STARTTLS=true
         PROTOCOL=TLSv1
      </javaMail>
      <server>localhost</server>
      <settings>
         general;throttlingStep=1
         backend/File/domains:localhost
         backend/File/defaultMailbox:andreas@localhost
         mail/SMTP/secureChannel;enable=true
         mail/POP3/secureChannel;enable=true
      </settings>
   </test>
   <test name="db_memory_profiler">
      <messagesPerUser>30</messagesPerUser>
      <runsPerUser>5</runsPerUser>
      <multithreaded/>
      <javaMail>
         SASL=PLAIN
         STARTTLS=true
         PROTOCOL=TLSv1
      </javaMail>
      <server>localhost</server>
      <settings>
         general;throttlingStep=1
         backend/Db;host=localhost;port=17527
         mail/SMTP/secureChannel;enable=true
         mail/POP3/secureChannel;enable=true
         cbc;enable=true;port=41002
      </settings>
   </test>
</tests>